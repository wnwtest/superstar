<map version="freeplane 1.11.5">
<!--To view this file, download free mind mapping software Freeplane from https://www.freeplane.org -->
<node TEXT="wpa_supplicant" LOCALIZED_STYLE_REF="AutomaticLayout.level.root" FOLDED="false" ID="Freemind_Link_1513112588" CREATED="1153430895318" MODIFIED="1717633857001">
<hook NAME="accessories/plugins/AutomaticLayout.properties" VALUE="ALL"/>
<hook NAME="MapStyle" background="#ffffff">
    <properties show_icon_for_attributes="true" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff" show_note_icons="true" associatedTemplateLocation="template:/light_super_hero_template.mm" fit_to_viewport="false"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="bottom_or_right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ID="ID_249848891" ICON_SIZE="12 pt" FORMAT_AS_HYPERLINK="false" COLOR="#000000" BACKGROUND_COLOR="#fff024" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="8 pt" SHAPE_VERTICAL_MARGIN="5 pt" BORDER_WIDTH_LIKE_EDGE="false" BORDER_WIDTH="1.9 px" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#f0f0f0" BORDER_DASH_LIKE_EDGE="true" BORDER_DASH="SOLID" VGAP_QUANTITY="3 pt">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" DASH="" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_249848891" STARTARROW="NONE" ENDARROW="DEFAULT"/>
<font NAME="SansSerif" SIZE="10" BOLD="false" STRIKETHROUGH="false" ITALIC="false"/>
<edge STYLE="bezier" COLOR="#09387a" WIDTH="3" DASH="SOLID"/>
<richcontent TYPE="DETAILS" CONTENT-TYPE="plain/auto"/>
<richcontent TYPE="NOTE" CONTENT-TYPE="plain/auto"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details" COLOR="#fff024" BACKGROUND_COLOR="#000000">
<font BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#f6f9a1" TEXT_ALIGN="LEFT">
<icon BUILTIN="clock2"/>
<font SIZE="10" ITALIC="true"/>
<edge COLOR="#000000"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.selection" COLOR="#000000" BACKGROUND_COLOR="#f5131f" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#f5131f"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="bottom_or_right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.important" ID="ID_254323574" STYLE="narrow_hexagon" SHAPE_HORIZONTAL_MARGIN="8 pt" SHAPE_VERTICAL_MARGIN="5 pt" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#c3131f">
<icon BUILTIN="yes"/>
<arrowlink COLOR="#c3131f" TRANSPARENCY="255" DESTINATION="ID_254323574"/>
<font SIZE="11" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.flower" COLOR="#ffffff" BACKGROUND_COLOR="#255aba" STYLE="oval" TEXT_ALIGN="CENTER" BORDER_WIDTH_LIKE_EDGE="false" BORDER_WIDTH="22 pt" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#f9d71c" BORDER_DASH_LIKE_EDGE="false" BORDER_DASH="CLOSE_DOTS" MAX_WIDTH="6 cm" MIN_WIDTH="3 cm"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="bottom_or_right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#ffffff" BACKGROUND_COLOR="#000000" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="10 pt" SHAPE_VERTICAL_MARGIN="10 pt" BORDER_WIDTH="3.1 px" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#2c2b29" BORDER_DASH_LIKE_EDGE="true">
<font NAME="Ubuntu" SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#ffffff" BACKGROUND_COLOR="#09387a" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="8 pt" SHAPE_VERTICAL_MARGIN="5 pt" BORDER_COLOR="#2c2b29">
<font NAME="Ubuntu" SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#ffffff" BACKGROUND_COLOR="#126cb3" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="8 pt" SHAPE_VERTICAL_MARGIN="5 pt" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#f0f0f0">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#000000" BACKGROUND_COLOR="#d4e226" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="8 pt" SHAPE_VERTICAL_MARGIN="5 pt" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#f0f0f0">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#000000" BACKGROUND_COLOR="#fff024" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#f0f0f0">
<font SIZE="11"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" BACKGROUND_COLOR="#fff024" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#f0f0f0">
<font SIZE="11"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" BACKGROUND_COLOR="#fff024" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#f0f0f0">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7" BACKGROUND_COLOR="#fff024" BORDER_COLOR="#f0f0f0">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8" BACKGROUND_COLOR="#fff024" BORDER_COLOR="#f0f0f0">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9" BORDER_COLOR="#f0f0f0">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10" BORDER_COLOR="#f0f0f0">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11" BORDER_COLOR="#f0f0f0">
<font SIZE="9"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      实现了Station对无线网络进行管理和控制
    </p>
    <p>
      <code>wpa_supplicant</code>是一个关键的组件，用于处理所有与Wi-Fi相关的安全性问题。它主要负责Wi-Fi网络的扫描、身份验证、关联以及最终的连接
    </p>
  </body>
</html>
</richcontent>
<node TEXT="src" POSITION="top_or_left" ID="ID_417374464" CREATED="1715996094168" MODIFIED="1715996098248">
<node TEXT="android.cfg" POSITION="top_or_left" ID="ID_1193448489" CREATED="1715996029255" MODIFIED="1716189510665"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      LA.QSSI.14.0.r1/LINUX/android/external/wpa_supplicant_8/wpa_supplicant/android.config
    </p>
    <pre># Driver interface for Linux drivers using the nl80211 kernel interface
#CONFIG_DRIVER_NL80211=y
CONFIG_LIBNL20=y

    </pre>
    <pre># PC/SC interface for smartcards (USIM, GSM SIM)
# Enable this if EAP-SIM or EAP-AKA is included
#CONFIG_PCSC=y</pre>
    <pre># EAP-SIM (enable CONFIG_PCSC, if EAP-SIM is used)
CONFIG_EAP_SIM=y

# EAP-PSK (experimental; this is _not_ needed for WPA-PSK)
#CONFIG_EAP_PSK=y

# EAP-pwd (secure authentication using only a password)
CONFIG_EAP_PWD=y

# EAP-PAX
#CONFIG_EAP_PAX=y

# EAP-PROXY
DISABLE_EAP_PROXY=y

# LEAP
CONFIG_EAP_LEAP=y

# EAP-AKA (enable CONFIG_PCSC, if EAP-AKA is used)
CONFIG_EAP_AKA=y

# EAP-AKA' (enable CONFIG_PCSC, if EAP-AKA' is used).
# This requires CONFIG_EAP_AKA to be enabled, too.
CONFIG_EAP_AKA_PRIME=y</pre>
    <p>
      
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="wpa_supplicant.conf" POSITION="top_or_left" ID="ID_284172741" CREATED="1715996065359" MODIFIED="1716275970130"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <pre><span class="c">LA.QSSI.14.0/LINUX/android/external/wpa_supplicant_8/wpa_supplicant/wpa_supplicant.conf
global configuration (shared by all network blocks)</span></pre>
    <pre># Only WPA-PSK is used. Any valid cipher combination is accepted.
network={
&#x9;ssid=&quot;example&quot;
&#x9;proto=WPA
&#x9;key_mgmt=WPA-PSK
&#x9;pairwise=CCMP TKIP
&#x9;group=CCMP TKIP WEP104 WEP40
&#x9;psk=06b4be19da289f475aa46a33cb793029d4ab3db7a23ee92382eb0106c72ac7bb
&#x9;priority=2
}

# WPA-Personal(PSK) with TKIP and enforcement for frequent PTK rekeying
network={
&#x9;ssid=&quot;example&quot;
&#x9;proto=WPA
&#x9;key_mgmt=WPA-PSK
&#x9;pairwise=TKIP
&#x9;group=TKIP
&#x9;psk=&quot;not so secure passphrase&quot;
&#x9;wpa_ptk_rekey=600
}</pre>
  </body>
</html></richcontent>
</node>
<node TEXT="BoardConfig.mk" POSITION="top_or_left" ID="ID_649362084" CREATED="1715995970728" MODIFIED="1716190288783"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      LA.VENDOR.1.0/LINUX/android/vendor/qcom/proprietary/common/parrot/BoardConfigVendor.mk
    </p>
    <p>
      ## wlan flags
    </p>
    <p>
      BOARD_HAS_QCOM_WLAN := true
    </p>
    <p>
      BOARD_HAS_QCOM_WIGIG := true
    </p>
    <p>
      TARGET_USES_ICNSS_QMI := true
    </p>
    <p>
      TARGET_USES_SUBNET_DETECTION := true
    </p>
    <p>
      BOARD_HAS_ATH_WLAN_AR6320 := true
    </p>
    <p>
      BOARD_WLAN_DEVICE := qcwcn
    </p>
    <p>
      BOARD_WPA_SUPPLICANT_DRIVER := NL80211
    </p>
    <p>
      BOARD_HOSTAPD_DRIVER := NL80211
    </p>
    <p>
      WIFI_DRIVER_BUILT := qca_cld3
    </p>
    <p>
      WIFI_DRIVER_DEFAULT := qca_cld3
    </p>
    <p>
      WIFI_DRIVER_INSTALL_TO_KERNEL_OUT := true
    </p>
    <p>
      WPA_SUPPLICANT_VERSION := VER_0_8_X
    </p>
    <p>
      HOSTAPD_VERSION := VER_0_8_X
    </p>
    <p>
      CONFIG_ACS := true
    </p>
    <p>
      CONFIG_IEEE80211AC := true
    </p>
    <p>
      CONFIG_IEEE80211AX := true
    </p>
    <p>
      BOARD_HAS_CFG80211_KERNEL3_4 := true
    </p>
    <p>
      BOARD_WPA_SUPPLICANT_PRIVATE_LIB := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
    </p>
    <p>
      BOARD_HOSTAPD_PRIVATE_LIB := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node TEXT="支持WPA和IEEE 802.11i所定义的大部分功能" POSITION="bottom_or_right" ID="ID_1279048419" CREATED="1715996329118" MODIFIED="1715996338192"/>
<node TEXT="支持多种EAP Method" POSITION="bottom_or_right" ID="ID_1077132006" CREATED="1715996390959" MODIFIED="1715996395208">
<node TEXT="EAP-TLS" ID="ID_1160193072" CREATED="1715996465687" MODIFIED="1715996528081"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      TLS(Transport Layer Security)
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="EAP-PEAP" ID="ID_269290048" CREATED="1716181246767" MODIFIED="1716181445862"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      <span style="color: #ffcc00; font-family: Times New Roman; font-size: 20px; font-style: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 40px; text-transform: none; white-space: normal; word-spacing: 0px; display: inline !important; float: none;">（Protected Extensible Authentication Protocol，可扩展EAP） </span>
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="EAP-TTLS" ID="ID_382774144" CREATED="1716181309460" MODIFIED="1716181561316"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      TTLS（Tunneled Transport Layer Security，隧道传输层安全协议）
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node TEXT="wpa_supplicant_8" POSITION="top_or_left" ID="ID_1239406848" CREATED="1716181729204" MODIFIED="1716190587873"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <pre>wpa_supplicant and hostapd</pre>
  </body>
</html></richcontent>
<node TEXT="hostapd" ID="ID_404087880" CREATED="1716181745788" MODIFIED="1716181793303"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      hostapd提供AP的功能
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="wpa_supplicant" ID="ID_433526271" CREATED="1716181813131" MODIFIED="1716181840656"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      Station模式,也叫Managed模式
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="src" ID="ID_244810068" CREATED="1716181888315" MODIFIED="1716181909829"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      hostapd和wpa_supplicant中都包含了一些通用的数据结构和处理方法
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node TEXT="wpa_cli(无界面的命令行程序)" POSITION="bottom_or_right" ID="ID_216154422" CREATED="1716186983708" MODIFIED="1716190558545"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      LA.QSSI.14.0/LINUX/android/external/wpa_supplicant_8/
    </p>
    <p>
      生成wpa_supplicant,同时也会生成wpa_cli
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="wpa_supplicant_8_lib" POSITION="top_or_left" ID="ID_454360011" CREATED="1716190434694" MODIFIED="1717727972415"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      LA.VENDOR.1.0/LINUX/android/hardware/qcom/wlan/qcwcn/wpa_supplicant_8_lib/
    </p>
    <p>
      wpa_supplicant依赖的静态库
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="wpa_supplicant命令" POSITION="bottom_or_right" ID="ID_1073587356" CREATED="1716192246303" MODIFIED="1716192333456"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      在Android平台中,WPA Supplicant的客户端是位于Framework中的WifiService。用户在Settings界面进行Wi-Fi相关的操作最终都会经由WifiService通过发送命令的方式转交给wpa_supplicant去执行
    </p>
  </body>
</html></richcontent>
<node TEXT="PING" ID="ID_1798746114" CREATED="1716195285569" MODIFIED="1716195315771"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      心跳检测命令。客户端用它判断WPAS是否工作正常
    </p>
  </body>
</html></richcontent>
<node TEXT=" wpa_cli ping&#xa;Using interface &apos;wlan0&apos;&#xa;PONG" ID="ID_77626032" CREATED="1716202646303" MODIFIED="1716202683422"/>
</node>
<node TEXT="MIB" ID="ID_83575773" CREATED="1716201895014" MODIFIED="1716201913937"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      客户端用该命令获取设备的MIB信息
    </p>
  </body>
</html></richcontent>
<node TEXT="wpa_cli mib&#xa;Using interface &apos;wlan0&apos;&#xa;dot11RSNAOptionImplemented=TRUE&#xa;dot11RSNAPreauthenticationImplemented=TRUE&#xa;dot11RSNAEnabled=TRUE&#xa;dot11RSNAPreauthenticationEnabled=TRUE&#xa;dot11RSNAConfigVersion=1&#xa;dot11RSNAConfigPairwiseKeysSupported=5&#xa;dot11RSNAConfigGroupCipherSize=128&#xa;dot11RSNAConfigPMKLifetime=43200&#xa;dot11RSNAConfigPMKReauthThreshold=70&#xa;dot11RSNAConfigNumberOfPTKSAReplayCounters=1&#xa;dot11RSNAConfigSATimeout=60&#xa;dot11RSNAAuthenticationSuiteSelected=00-0f-ac-2&#xa;dot11RSNAPairwiseCipherSelected=00-0f-ac-4&#xa;dot11RSNAGroupCipherSelected=00-0f-ac-4&#xa;dot11RSNAPMKIDUsed=&#xa;dot11RSNAAuthenticationSuiteRequested=00-0f-ac-2&#xa;dot11RSNAPairwiseCipherRequested=00-0f-ac-4&#xa;dot11RSNAGroupCipherRequested=00-0f-ac-4&#xa;dot11RSNAConfigNumberOfGTKSAReplayCounters=0&#xa;dot11RSNA4WayHandshakeFailures=0&#xa;dot1xSuppPaeState=5&#xa;dot1xSuppHeldPeriod=60&#xa;dot1xSuppAuthPeriod=30&#xa;dot1xSuppStartPeriod=30&#xa;dot1xSuppMaxStart=3&#xa;dot1xSuppSuppControlledPortStatus=Authorized&#xa;dot1xSuppBackendPaeState=2&#xa;dot1xSuppEapolFramesRx=0&#xa;dot1xSuppEapolFramesTx=2&#xa;dot1xSuppEapolStartFramesTx=0&#xa;dot1xSuppEapolLogoffFramesTx=0&#xa;dot1xSuppEapolRespFramesTx=0&#xa;dot1xSuppEapolReqIdFramesRx=0&#xa;dot1xSuppEapolReqFramesRx=0&#xa;dot1xSuppInvalidEapolFramesRx=0&#xa;dot1xSuppEapLengthErrorFramesRx=0&#xa;dot1xSuppLastEapolFrameVersion=0&#xa;dot1xSuppLastEapolFrameSource=00:00:00:00:00:00" ID="ID_1770267430" CREATED="1716202607558" MODIFIED="1716202610415"/>
</node>
<node TEXT="STATUS" ID="ID_488786155" CREATED="1716201935559" MODIFIED="1716201962402"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      客户端用该命令来获取WPAS的工作状态
    </p>
  </body>
</html></richcontent>
<node TEXT="wpa_cli status&#xa;Using interface &apos;wlan0&apos;&#xa;wpa_state=DISCONNECTED&#xa;address=26:6c:25:90:43:4a&#xa;uuid=470bc95f-e93e-5861-b620-3e0fcc06b929" ID="ID_686330186" CREATED="1716202489967" MODIFIED="1716202493479"/>
<node TEXT="wpa_cli status&#xa;Using interface &apos;wlan0&apos;&#xa;bssid=c8:bf:4c:77:58:fd&#xa;freq=5200&#xa;ssid=UNICAIR&#xa;id=0&#xa;id_str=%7B%22configKey%22%3A%22%5C%22UNICAIR%5C%22WPA_PSK%22%2C%22creatorUid%22%3A%221000%22%7D&#xa;mode=station&#xa;wifi_generation=5&#xa;pairwise_cipher=CCMP&#xa;group_cipher=CCMP&#xa;key_mgmt=WPA2-PSK&#xa;wpa_state=COMPLETED&#xa;ip_address=192.168.31.158&#xa;address=3a:30:f8:ed:ee:b2&#xa;uuid=470bc95f-e93e-5861-b620-3e0fcc06b929&#xa;ieee80211ac=1" ID="ID_1255245562" CREATED="1716202546982" MODIFIED="1716202550303"/>
</node>
<node TEXT="ADD_NETWORK" ID="ID_129854436" CREATED="1716201966375" MODIFIED="1716202005583"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      为WPAS添加一个新的无线网络。它将返回此新无线网络的ID(从0开
    </p>
    <p>
      始)
    </p>
  </body>
</html></richcontent>
<node TEXT=" wpa_cli add_network cts&#xa;Using interface &apos;wlan0&apos;&#xa;1" ID="ID_1254955050" CREATED="1716202748230" MODIFIED="1716202751399"/>
</node>
<node TEXT="SET_NETWORK&lt;network id&gt;&lt;variable&gt;&#xa;&lt;value&gt;" ID="ID_1632610554" CREATED="1716202009038" MODIFIED="1716202060002"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      network id是无线网络的ID。此命令用于设置指定无线网络的信息。其中variable为参数名,value为参数的值
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="ENABLE_NETWORK&lt;network id&gt;" ID="ID_130087246" CREATED="1716202100423" MODIFIED="1716202127626"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      使能某个无线网络。此命令最终将促使WPAS发起一系列操作以加入该无线网络
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="Interactive Request" ID="ID_1193034609" CREATED="1716202169743" MODIFIED="1716202212737"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      WPAS主动给Client发送命令
    </p>
  </body>
</html></richcontent>
<node TEXT="CTRL-REQ-&lt;field name&gt;-&lt;network id&gt;-&lt;human readable text&gt;" ID="ID_1404774975" CREATED="1716202228086" MODIFIED="1716202262378"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      CTRL-REQ-PASSWORD-0-Passwork needed for SSID test-network
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="CTRL-RSP-&lt;field name&gt;-&lt;network id&gt;-&lt;value&gt;" ID="ID_461831006" CREATED="1716202295911" MODIFIED="1716202303927"/>
<node TEXT="CTRL-EVENT-&lt;field&gt;-&lt;text&gt;" ID="ID_1650177265" CREATED="1716202337646" MODIFIED="1716202339950"/>
</node>
</node>
<node TEXT="wpa_supplicant API" POSITION="top_or_left" ID="ID_1522714165" CREATED="1716272864415" MODIFIED="1716272899139"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      LA.QSSI.14.0/LINUX/android/external/wpa_supplicant_8/src/common/wpa_ctrl.h
    </p>
  </body>
</html></richcontent>
<node TEXT="创建一个wpa控制端对象wpa_ctrl" ID="ID_1901880138" CREATED="1716273028911" MODIFIED="1716273058763"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      struct wpa_ctrl * wpa_ctrl_open(const char *ctrl_path);
    </p>
    <p>
      void wpa_ctrl_close(struct wpa_ctrl *ctrl);
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT=" 客户端发送命令给wpa_supplicant" ID="ID_1628971161" CREATED="1716273084271" MODIFIED="1716273148707"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      int wpa_ctrl_request(struct wpa_ctrl *ctrl, const char*cmd, size_t cmd_len,char *reply, size_t *reply_len,void (*msg_cb)(char*msg, size_t len));
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="打开通知事件监听功能" ID="ID_847215028" CREATED="1716273677320" MODIFIED="1716273718636"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      // 打开通知事件监听功能
    </p>
    <p>
      int wpa_ctrl_attach(struct wpa_ctrl *ctrl);
    </p>
    <p>
      // 打开通知事件监听功能的wpa_ctrl对象能直接调用下面的函数来接收unsolicited event
    </p>
    <p>
      int wpa_ctrl_recv(struct wpa_ctrl *ctrl, char *reply, size_t*reply_len);
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="客户端创建两个wpa_ctrl对象来简化自己的&#xa;逻辑处理。&#xa;·一个打开了通知事件监听功能的wpa_ctrl对象将只通过wpa_ctrl_recv来接收通知事件。&#xa;·另外一个wpa_ctrl专职用于发送命令和接收回复。由于没有调用wpa_ctrl_attach,故它不会收到通知事件" ID="ID_863305250" CREATED="1716273803159" MODIFIED="1716273825808"/>
</node>
<node TEXT="wpa_supplicant初始化" POSITION="bottom_or_right" ID="ID_1695163000" CREATED="1716274217399" MODIFIED="1716274697260"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <pre>mkdir <a href="http://192.168.117.122:8080/source/s?path=/data/misc/wifi/wpa_supplicant&amp;project=EDA62K_A14">/data/misc/wifi/wpa_supplicant</a> 0770 wifi wifi</pre>
    <p>
      LA.VENDOR.1.0/LINUX/android/device/qcom/common/rootdir/etc/init.qcom.rc
    </p>
    <pre>    # Create the directories used by the Wireless subsystem
    mkdir /data/vendor/wifi 0770 wifi wifi
    mkdir /data/vendor/wifi/sockets 0770 wifi wifi
    mkdir /data/vendor/wifi/hostapd 0770 wifi wifi
    mkdir /data/vendor/wifi/hostapd/ctrl 0770 wifi wifi
    mkdir /data/vendor/wifi/wpa_supplicant 0770 wifi wifi
    mkdir /data/vendor/wifi/wigig_hostapd 0770 wifi wifi
    mkdir /data/vendor/wifi/wpa 0770 wifi wifi
    mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi</pre>
  </body>
</html></richcontent>
<node TEXT="ifeq ($(WIFI_HIDL_UNIFIED_SUPPLICANT_SERVICE_RC_ENTRY), true)&#xa;LOCAL_INIT_RC=aidl/android.hardware.wifi.supplicant-service.rc&#xa;endif" ID="ID_783512317" CREATED="1716274777464" MODIFIED="1716274780825">
<node TEXT="service wpa_supplicant /vendor/bin/hw/wpa_supplicant \&#xa;&#x9;-O/data/vendor/wifi/wpa/sockets -puse_p2p_group_interface=1 -dd \&#xa;&#x9;-g@android:wpa_wlan0&#xa;&#x9;#   we will start as root and wpa_supplicant will switch to user wifi&#xa;&#x9;#   after setting up the capabilities required for WEXT&#xa;&#x9;#   user wifi&#xa;&#x9;#   group wifi inet keystore&#xa;&#x9;interface aidl android.hardware.wifi.supplicant.ISupplicant/default&#xa;&#x9;interface aidl vendor.qti.hardware.wifi.supplicant.ISupplicantVendor/default&#xa;&#x9;class main&#xa;&#x9;socket wpa_wlan0 dgram 660 wifi wifi&#xa;&#x9;disabled&#xa;&#x9;oneshot" ID="ID_1992255939" CREATED="1716275263553" MODIFIED="1716275267113"/>
</node>
<node TEXT="./vendor/etc/wifi/wpa_supplicant.conf" ID="ID_1222695429" CREATED="1716276897858" MODIFIED="1716279951949"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      &#xa0;cat ./vendor/etc/wifi/wpa_supplicant.conf
    </p>
    <p>
      update_config=1
    </p>
    <p>
      eapol_version=1
    </p>
    <p>
      ap_scan=1
    </p>
    <p>
      fast_reauth=1
    </p>
    <p>
      pmf=1
    </p>
    <p>
      p2p_add_cli_chan=1
    </p>
    <p>
      oce=1
    </p>
    <p>
      wowlan_disconnect_on_deinit=1
    </p>
    <p>
      bss_no_flush_when_down=1
    </p>
  </body>
</html></richcontent>
<node TEXT="/data/vendor/wifi/wpa/wpa_supplicant.conf" ID="ID_1481341966" CREATED="1716279701747" MODIFIED="1716279704379"/>
</node>
<node TEXT="wpa_supplicant_init" ID="ID_1230052623" CREATED="1716447963562" MODIFIED="1716447966442">
<node TEXT="eap_register_methods" ID="ID_476873952" CREATED="1716457726062" MODIFIED="1716457729327"/>
<node TEXT="eloop_init" ID="ID_555766974" CREATED="1716458001769" MODIFIED="1716458005355"/>
<node TEXT="struct wpa_driver_ops *wpa_drivers[]" ID="ID_1538762968" CREATED="1716862514147" MODIFIED="1716862556108"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      wpa_driver_ops是driver i/f模块的核心数据结构,其内部定义了很多函数指针。而正是通过定义函数指针的方法,WPAS能够隔离上层使用者和具体的driver
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="wpa_driver_nl80211_ops" ID="ID_1154584448" CREATED="1716862700287" MODIFIED="1716862833798"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      <a href="http://192.168.117.122:8080/source/xref/UPQ0090010-T10/LA.QSSI.14.0.r1/LINUX/android/">android</a>/<a href="http://192.168.117.122:8080/source/xref/UPQ0090010-T10/LA.QSSI.14.0.r1/LINUX/android/external/">external</a>/<a href="http://192.168.117.122:8080/source/xref/UPQ0090010-T10/LA.QSSI.14.0.r1/LINUX/android/external/wpa_supplicant_8/">wpa_supplicant_8</a>/<a href="http://192.168.117.122:8080/source/xref/UPQ0090010-T10/LA.QSSI.14.0.r1/LINUX/android/external/wpa_supplicant_8/src/">src</a>/<a href="http://192.168.117.122:8080/source/xref/UPQ0090010-T10/LA.QSSI.14.0.r1/LINUX/android/external/wpa_supplicant_8/src/drivers/">drivers</a>/<a href="http://192.168.117.122:8080/source/xref/UPQ0090010-T10/LA.QSSI.14.0.r1/LINUX/android/external/wpa_supplicant_8/src/drivers/driver_nl80211.c">driver_nl80211.c </a>
    </p>
    <p>
      kernel 层驱动的代理
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node TEXT="wpa_supplicant_add_iface" ID="ID_958782413" CREATED="1716863604968" MODIFIED="1716864504804"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <pre><span class="c">Add a new network interface</span></pre>
  </body>
</html></richcontent>
<node TEXT="wpa_ssid" ID="ID_811225591" CREATED="1716874083543" MODIFIED="1716874087401">
<node TEXT="passphrase" ID="ID_1338336830" CREATED="1717064774823" MODIFIED="1717064777681"/>
<node TEXT="pairwise_cipher和group_cipher" ID="ID_980836326" CREATED="1717064798911" MODIFIED="1717064801471"/>
<node TEXT="key_mgmt" ID="ID_1438363612" CREATED="1717064827615" MODIFIED="1717064830207"/>
<node TEXT="proto" ID="ID_1860508340" CREATED="1717064857190" MODIFIED="1717064859999">
<node TEXT="#define WPA_PROTO_WPA BIT(0)&#xa;#define WPA_PROTO_RSN BIT(1)&#xa; #define DEFAULT_PROTO (WPA_PROTO_WPA | WPA_PROTO_RSN)" ID="ID_303473272" CREATED="1717066295823" MODIFIED="1717066299904"/>
</node>
<node TEXT="auth_alg" ID="ID_951758503" CREATED="1717064874574" MODIFIED="1717064877063"/>
<node TEXT="eapol_flags" ID="ID_967740351" CREATED="1717064918078" MODIFIED="1717064921519"/>
</node>
<node TEXT="wpa_supplicant" ID="ID_1784869366" CREATED="1717033914416" MODIFIED="1717033917415"/>
<node TEXT="wpa_supplicant_init_iface" ID="ID_1282700985" CREATED="1717033930166" MODIFIED="1717033932302">
<node TEXT="/data/misc/wifi/wpa_supplicant.conf" ID="ID_875624308" CREATED="1717066026695" MODIFIED="1717066126060"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <pre><a class="l target selected" name="223" href="http://192.168.117.122:8080/source/xref/UPQ0090010-T10/LA.QSSI.14.0.r1/LINUX/android/external/wpa_supplicant_8/wpa_supplicant/Android.mk#223">
</a><a href="http://192.168.117.122:8080/source/s?defs=L_CFLAGS&amp;project=UPQ0090010-T10" class="intelliWindow-symbol" data-definition-place="undefined-in-file">L_CFLAGS</a> += -<a href="http://192.168.117.122:8080/source/s?defs=DCONFIG_BACKEND_FILE&amp;project=UPQ0090010-T10" class="intelliWindow-symbol" data-definition-place="undefined-in-file">DCONFIG_BACKEND_FILE</a></pre>
  </body>
</html></richcontent>
</node>
</node>
<node TEXT="wpa_driver_nl80211_init_nl_global" ID="ID_1542138160" CREATED="1717149215877" MODIFIED="1717149218764">
<node TEXT="global-&gt;nl" ID="ID_340382394" CREATED="1717149244764" MODIFIED="1717149330952"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      向wlan driver发送netlink消息
    </p>
  </body>
</html></richcontent>
</node>
<node TEXT="gobal-&gt;event" ID="ID_609990494" CREATED="1717149251508" MODIFIED="1717149265571"/>
</node>
</node>
<node TEXT="rfkill" ID="ID_820434223" CREATED="1717149457820" MODIFIED="1717149612785"><richcontent TYPE="DETAILS">
<html>
  <head>
    
  </head>
  <body>
    <p>
      radio frequency(RF)connector kill switch support控制系统中射频设备的
    </p>
    <p>
      电源(包括Wi-Fi、GPS、BlueTooth、FM等设备。注意,这些设备驱动只有把自己注册到rfkill子
    </p>
    <p>
      系统中后,rfkill才能对它们起作用)的工作以避免浪费电力
    </p>
  </body>
</html></richcontent>
<node TEXT="rfkill_init" ID="ID_947111878" CREATED="1717149694260" MODIFIED="1717149696884"/>
</node>
<node TEXT="wpa_driver_nl80211_get_info" ID="ID_882904578" CREATED="1717558306967" MODIFIED="1717558310759"/>
</node>
</node>
</map>
